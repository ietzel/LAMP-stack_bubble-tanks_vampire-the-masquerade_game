<body>
    <style>
        body {
            background-color: black
        }
    </style>
    <canvas id="gC"></canvas>
    <script>
        var canvas = document.getElementById('gC');
        var ctx = canvas.getContext('2d');
        canvas.width = 500;
        canvas.height = 400;
        var keys = {};
        window.addEventListener('keydown', function (e) {
            keys[e.keyCode] = true;
            e.preventDefault();
        });
        window.addEventListener('keyup', function (e) {
            delete keys[e.keyCode];
        });
        function Box(p, m, s, options) {
            this.x = options.x || 10;
            this.y = options.y || 10;
            this.width = options.width || 40;
            this.height = options.height || 40;
            this.color = options.color || '#000000'
            this.speed = options.speed || 4;
            this.direction = options.direction || "right" || "up" || "down";
            this.gravity = options.gravity || 4;
            this.physical = p;
            this.mental = m;
            this.social = s;
            this.move = function (otherX, otherY) {
                if ((this.x) > 0 && (this.x < otherX)) {
                    this.x++;
                } else {
                    this.x--;
                }
                if ((this.y > 0) && (this.y < otherY)) {
                    this.y++;
                } else {
                    this.y--;
                }
            }
            this.attack = function (otherobject) {
                penalties = 0;
                opponentpenalties = 0;
                if(this.mental < otherobject.social) {
                   penalties--;
                   ifthis.mental < otherobject.physical)) {
                    penalties -= 2;
                   } else if(this.mental != otherobject.social) {
                       opponentpenalties -= 2;   
                   }
                } else ifthis.mental != otherobject.physical)) {
                    opponentpenalties--; 
                }
                if((Math.max(this.physical, this.physical) > (otherobject.physical + (opponentpenalties))) && (this.physical >= otherobject.physical)) {
                    otherobject.respawn();
                } else if(Math.max(otherobject.physical, otherobject.physical) > (this.physical + (opponentpenalties))) && (otherobject.physical >= this.physical)) {
                    this.respawn();
                }
            }
            this.respawn() {
                this.physical = Math.floor(Math.sqrt(Math.random() * 100));
                this.mental = Math.floor(Math.sqrt(Math.random() * 100));
                this.social = Math.floor(Math.sqrt(Math.random() * 100));
                this.x = options.x || 10;
                this.y = options.y || 10;
            }
            this.collideWith = function (otherobject) {
                var myleft = this.x;
                var myright = this.x + (this.width);
                var mytop = this.y;
                var mybottom = this.y + (this.height);
                var otherleft = otherobject.x;
                var otherright = otherobject.x + (otherobject.width);
                var othertop = otherobject.y;
                var otherbottom = otherobject.y + (otherobject.height);
                var collision = true;
                if ((mybottom <= othertop) ||
                    (mytop >= otherbottom) ||
                    (myright <= otherleft) ||
                    (myleft >= otherright)) {
                    collision = false;
                }
                return collision;
            }
        }
        var player = new Box(1, 1, 1, {
            x: 150,
            y: 300,
            width: 40,
            height: 40,
            color: "black",
            speed: 5
        });
        var enemy = new Box(1, 1, 1, {
            x: Math.random()*canvas.width,
            y: Math.random()*canvas.height,
            width: 40,
            height: 40,
            color: "black"
        });
        var enemies = [
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
            enemy,
        ];
        //Blackmailer
        enemies[0].physical = 3;
        enemies[0].mental = 5;
        enemies[0].social = 6;
        //Bear Trap
        enemies[1].physical = 3;
        enemies[1].mental = 4;
        enemies[1].social = 5;
        //Cuckoo
        enemies[2].physical = 4;
        enemies[2].mental = 5;
        enemies[2].social = 6;
        //Blood Doll
        enemies[3].physical = 4;
        enemies[3].mental = 5;
        enemies[3].social = 4;
        //Deprogrammer
        enemies[4].physical = 4;
        enemies[4].mental = 6;
        enemies[4].social = 6;
        //Oswobodziciele Liberator
        enemies[5].physical = 6;
        enemies[5].mental = 6;
        enemies[5].social = 6;
        //Psychic Surgeon
        enemies[6].physical = 4;
        enemies[6].mental = 6;
        enemies[6].social = 6;
        //False Flagger
        enemies[7].physical = 5;
        enemies[7].mental = 6;
        enemies[7].social = 7;
        //Gentrifier
        enemies[8].physical = 4;
        enemies[8].mental = 5;
        enemies[8].social = 6;
        //Broker
        enemies[9].physical = 4;
        enemies[9].mental = 5;
        enemies[9].social = 6;
        //Dealer
        enemies[0].physical = 3;
        enemies[0].mental = 4;
        enemies[0].social = 5;
        //Informant
        enemies[1].physical = 3;
        enemies[1].mental = 3;
        enemies[1].social = 4;
        //Canary
        enemies[2].physical = 3;
        enemies[2].mental = 3;
        enemies[2].social = 4;
        //Politician
        enemies[3].physical = 3;
        enemies[3].mental = 5;
        enemies[3].social = 6;
        //Socialite
        enemies[4].physical = 3;
        enemies[4].mental = 5;
        enemies[4].social = 7;
        //Busybody
        enemies[5].physical = 3;
        enemies[5].mental = 5;
        enemies[5].social = 7;
        //Bear-Leader
        enemies[6].physical = 4;
        enemies[6].mental = 6;
        enemies[6].social = 6;
        //Black-Bagger
        enemies[7].physical = 4;
        enemies[7].mental = 6;
        enemies[7].social = 3;
        //Mechanic
        enemies[8].physical = 5;
        enemies[8].mental = 5;
        enemies[8].social = 3;
        //Burrower
        enemies[9].physical = 3;
        enemies[9].mental = 6;
        enemies[9].social = 4;
        //Forensic Accountant
        enemies[0].physical = 3;
        enemies[0].mental = 6;
        enemies[0].social = 4;
        //Detective
        enemies[1].physical = 5;
        enemies[1].mental = 5;
        enemies[1].social = 5;
        //Hammer
        enemies[2].physical = 6;
        enemies[2].mental = 4;
        enemies[2].social = 4;
        //Doctor
        enemies[3].physical = 4;
        enemies[3].mental = 6;
        enemies[3].social = 5;
        //Hacker
        enemies[4].physical = 3;
        enemies[4].mental = 6;
        enemies[4].social = 4;
        //Phone Phreak
        enemies[5].physical = 4;
        enemies[5].mental = 5;
        enemies[5].social = 3;
        //Tail
        enemies[6].physical = 4;
        enemies[6].mental = 5;
        enemies[6].social = 4;
        //Lamplighter
        enemies[7].physical = 4;
        enemies[7].mental = 5;
        enemies[7].social = 4;
        //Mother Hen
        enemies[8].physical = 4;
        enemies[8].mental = 6;
        enemies[8].social = 4;
        //Weaponer
        enemies[9].physical = 5;
        enemies[9].mental = 6;
        enemies[9].social = 4;
        //XTechnician
        enemies[0].physical = 4;
        enemies[0].mental = 7;
        enemies[0].social = 4;
        //Amateuer
        enemies[1].physical = 4;
        enemies[1].mental = 3;
        enemies[1].social = 3;
        //Breacher
        enemies[2].physical = 5;
        enemies[2].mental = 5;
        enemies[2].social = 3;
        //Clearance Specialist
        enemies[3].physical = 6;
        enemies[3].mental = 4;
        enemies[3].social = 4;
        //Firebug
        enemies[4].physical = 6;
        enemies[4].mental = 4;
        enemies[4].social = 4;
        //Lone Wolf
        enemies[5].physical = 6;
        enemies[5].mental = 5;
        enemies[5].social = 5;
        //Slayer
        enemies[6].physical = 6;
        enemies[6].mental = 5;
        enemies[6].social = 4;
        //Snatcher
        enemies[7].physical = 6;
        enemies[7].mental = 4;
        enemies[7].social = 4;
        //Interrogator
        enemies[8].physical = 4;
        enemies[8].mental = 6;
        enemies[8].social = 5;
        //Sniper
        enemies[9].physical = 6;
        enemies[9].mental = 4;
        enemies[9].social = 3;
        //Hit Man
        enemies[0].physical = 6;
        enemies[0].mental = 5;
        enemies[0].social = 4;
        //Reaper
        enemies[1].physical = 7;
        enemies[1].mental = 4;
        enemies[1].social = 3;
        //Warrior
        enemies[2].physical = 6;
        enemies[2].mental = 5;
        enemies[2].social = 3;
        //Leopoldite Sicarus
        enemies[3].physical = 6;
        enemies[3].mental = 5;
        enemies[3].social = 3;
        //Cunning Folk
        enemies[4].physical = 4;
        enemies[4].mental = 5;
        enemies[4].social = 4;
        //Animalist
        enemies[5].physical = 4;
        enemies[5].mental = 5;
        enemies[5].social = 4;
        //Faithful
        enemies[6].physical = 5;
        enemies[6].mental = 5;
        enemies[6].social = 4;
        //Flagellant
        enemies[7].physical = 5;
        enemies[7].mental = 5;
        enemies[7].social = 4;
        //Absolved
        enemies[8].physical = 5;
        enemies[8].mental = 5;
        enemies[8].social = 4;
        //Nullififer
        enemies[9].physical = 3;
        enemies[9].mental = 5;
        enemies[9].social = 4;
        //Pscout
        enemies[0].physical = 4;
        enemies[0].mental = 6;
        enemies[0].social = 4;
        //Pstriker
        enemies[1].physical = 5;
        enemies[1].mental = 5;
        enemies[1].social = 4;
        //Pyrokinetic
        enemies[2].physical = 5;
        enemies[2].mental = 5;
        enemies[2].social = 4;
        //Sorcerer
        enemies[3].physical = 4;
        enemies[3].mental = 6;
        enemies[3].social = 5;
        //Alchemist
        enemies[4].physical = 4;
        enemies[4].mental = 6;
        enemies[4].social = 5;
        //Brute
        enemies[5].physical = 6;
        enemies[5].mental = 3;
        enemies[5].social = 2;
        //Tzimisce Monstrosity
        enemies[6].physical = 7;
        enemies[6].mental = 3;
        enemies[6].social = 2;
        //Cleaver
        enemies[7].physical = 5;
        enemies[7].mental = 8;
        enemies[7].social = 7;
        //Daywalker
        enemies[8].physical = 4;
        enemies[8].mental = 5;
        enemies[8].social = 6;
        //Lordless
        enemies[9].physical = 4;
        enemies[9].mental = 5;
        enemies[9].social = 6;
        //Lordless Assassin
        enemies[0].physical = 6;
        enemies[0].mental = 5;
        enemies[0].social = 3;
        //Vitae Tweaker
        enemies[1].physical = 6;
        enemies[1].mental = 3;
        enemies[1].social = 4;
        function input(player) {
            if (37 in keys) {
                if (player.x - player.speed > 0) {
                    player.x -= player.speed;
                }
                player.direction = 'left';
            }
            if (39 in keys) {
                if (player.x + player.width + player.speed < canvas.width) {
                    player.x += player.speed;
                }
                player.direction = 'right';
            }
            if (38 in keys) {
                if (player.y - player.speed > 0) {
                    player.y -= player.speed;
                }
                player.direction = 'up';
            }
            if (40 in keys) {
                if (player.y + player.height + player.speed < canvas.height) {
                    player.y += player.speed;
                }
                player.direction = 'down';
            }
        }
        function drawBox(box) {
            ctx.fillStyle = box.color;
            ctx.fillRect(box.x, box.y, box.width, box.height);
        }
        function update() {
            input(player);
        }
        function draw() {
            if (player.collideWith(enemy)) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "gray";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                drawBox(player);
                drawBox(enemy);
            } else {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = "gray";
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                drawBox(player);
                drawBox(enemy);
            }
        }
        function loop() {
            enemy.move(player.x, player.y);
            update();
            draw();
            window.requestAnimationFrame(loop);
        }
        loop();
    </script>
</body>
